{% extends "base.html" %}

{% block title %}Client Magic - Clients{% endblock %}

{% block styles %}
{% include "components/dashboard_styles.html" %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dropzone.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/flatpickr.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/modals.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block content %}
<!-- Include Global Dropzone Component -->
{% include "components/dropzone.html" %}

<div class="container mx-auto px-4 py-8">
    <div class="flex justify-between items-center mb-6">
        <h1 class="text-3xl font-bold text-gray-800">
            Clients <span class="text-gray-400 font-normal">({{ contacts|length }})</span>
        </h1>
    </div>
    
    <!-- Notification Messages -->
    {% include "components/notifications.html" %}

    <!-- Search Bar (includes action buttons) -->
    {% include "components/search_bar.html" %}

    <!-- Contacts Table -->
    {% include "components/contacts_table.html" %}
</div>

<!-- Modals -->
{% include "components/contact_detail_modal.html" %}
{% include "components/import_modal.html" %}
{% include "components/add_contact_modal.html" %}
{% include "components/delete_contact_modal.html" %}
{% include "components/delete_all_modal.html" %}
{% include "components/remove_duplicates_modal.html" %}
{% include "components/bulk_delete_modal.html" %}
{% endblock %}

{% block scripts %}
<!-- Load modular JavaScript files -->
<script type="module" src="{{ url_for('static', filename='js/main.js') }}"></script>
{% endblock %} 